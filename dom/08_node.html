<!-- 2022-12-21 -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <style>
        *{
            box-sizing: border-box; /*편하게 계산하기 위해 사용*/
        }
        #wrap {
            width: 500px;
            margin: 20px auto;
            padding: 20px;
        }
        input[type='text'] {
            width: 370px;
            float: left;
            height: 30px;
            padding-left: 30px;
        }
        button {
            width: 90px;
            height: 30px;
            float: right;
            background: #222;
            color: #fff;
            border: none;
        }
        ul {
            list-style: none;
            padding-top: 50px;
        }
        hr{
            clear: both;
            display: none;
        }
        li {
            line-height: 2.5em;
        }
        li:hover {
            cursor: pointer;
        }
    </style>
    <title>web programing</title>
</head>
<body>
    <div id="wrap">
        <h1>web programing</h1>
        <p>공부할 주제를 기록해보세요.</p>
        <form action="">
            <!-- 커서 자동 깜빡임 : autofocus -->
            <input type="text" id="subject" autofocus>
            <!-- return false : 원래 기능을 취소 시킬 때 사용 -->
            <button onclick="newNo(); return false">추가</button>
        </form>
        <hr>
        <!-- 노드로 ul 안에 li 추가 예정 -->
        <ul id="itemList"></ul>
    </div>

    <!-- script -->
    <script>
        //노드 추가하기
        function newNo(){
            //요소를 만들겠다 : createElement('만들 대상 선택자')
            //li요소 추가
            let newItems = document.createElement('li')
            //폼의 텍스트 필드 선택
            let subject = document.querySelector('#subject');
            //텍스트 필드의 값을 텍스트 노드로 만들기
            let newText = document.createTextNode(subject.value);
            
            //li의 하위 텍스트 요소를 자식요소로 newText(입력하는 데이터)를 데려온다.
            //텍스트 노드(newText)를 요소 노드(li)의 자식으로 추가
            newItems.appendChild(newText);

            //선택인자는 ul에(itemList) 데이터를 추가
            //새로 만든 요소 노드(li)를 부모 노드(#itemList)에 추가
            document.querySelector('#itemList').appendChild(newItems);

            //입력 후 텍스트 필드 비우기
            subject.value = '';

            //노드 삭제하기
            // 선택을 할 때 어떤 것을 삭제할지 모르기 때문에 all(모든) 항목(li)을 선택해서 삭제할 수 있는 조건을 동일 하게 적용 한다.
            let items = document.querySelectorAll('li');

            for(i=0; i<items.length; i++){
                //입력 되는 값과 비교하며 증가

                //클릭 할때마다 삭제 이벤트 
                //클릭 했을 때 라는 조건을 적용 하기 위해 addEventListener('click');
                items[i].addEventListener('click',function(){
                    //해당 값이 있다면 삭제하란 명령을 위해 if문 사용
                    if(this.parentNode){ 
                        //부모 노드가 있다면 아래 구문을 실행할 것
                        this.parentNode.removeChild(this);
                        //부모 노드에서 자기 자신 삭제
                    }
                });
            }
        }
    </script>
</body>
</html>